# 3부 통신

### 역사적 배경

- 사람들은 여러가지 독창적인 발상과 물리적 매커니즘을 사용하여 과거부터 장거리 통신을 이용함
    - ex) 마라톤, 승마 기수 시스템, 신호등과 봉화, 거울, 깃발, 북, 전서구 등
    - 시각 전신
- 현대와 마찬가지로 과거에도 정보를 표현하는 방법, 메세지를 교환하는 방법, 오류를 탐지하고 복구하는 방법등에 대한 표준 필요.
- 1876년 그레이엄 벨. 전화 발명
    - 높은 신뢰성과 보장된 서비스 품질
- 20세기 후반, 비트를 소리로 변환하는 모뎀 이용. 팩스와 컴퓨터간 통신으로 트래픽 모델의 변경
- 오늘날에는 인터넷에 기반을 둔 통신 시스템
    - 망 중립성 : 모든 네트워크 사업자와 정부는 인터넷이 존재하는 모든 데이터를 동등하게 취급하고, 사용자, 내용, 플랫폼, 장비, 전송 방식에 따른 어떠한 차별도 하지 않아야 한다.

# 053 전화부터 와이파이까지, 네트워크의 기본 속성

- 전통적인 유선 네트워크 : 전화, 케이블, 이더넷
- 무선 네트워크 : 와이파이, 휴대전화
- 그리고 인터넷
- 보내는 쪽은 정보를 매체를 통해 전송할 수 있는 표현으로 변환,
- 받는 쪽에서는 그 표현을 사용할 수 있는 형태로 다시 변환
- 대역폭(bandwidth) : 네트워크가 데이터를 얼마나 빨리 전송할 수 있는가
    - 초당 몇 비트~테라비트로 다양함
    - 대부분의 사용자에게 중요한 속성.
    - 대역폭이 충분하면 데이터가 빠르고 원할하게 전달되지만, 그렇지 않으면 통신이 멈추거느 속도가 저하됨
- 레이턴시(Latency), 지연(Delay) : 일정한 단위의 정보가 시스템을 통과하는데 걸리는 시간을 측정한 값
    - 레이턴시가 높다고 대역폭이 낮은것은 아님!
- 지터(jitter) : 지연의 변동성
- 범위(Range) : 주어진 기술로 네트워크가 지리적으로 얼마나 확장 될 수 있는 지
- 브로드캐스트(broadcast) 방식 : 여러 수신자가 한 발신자의 신호를 수신하는 구조
- 점대점(point-to-point) 방식 : 특정 발신자와 수신자를 짝지어주는 구조

# 054 삐-삐- 추억의 모뎀 소리

- 변조(modulation) : 신호에 정보 전송용 패턴을 적용하는 과정
- 복조(demodulation) : 수신한 패턴을 원래 형태로 변환하는 과정
- 모뎀(modem) : 변조와 복조를 수행하는 장치
    - 과거에는 비쌌으나, 오늘날 모뎀은 단일칩이고 사실상 무료임
- 전용 전화선이 필요함.
- 정보를 보내는 속도에 엄격한 제한이 걸려있음. 최대 속도는 약 56Kbps

# 055 킬로바이트에서 메가바이트로

- 아날로그 전화선의 신호 전송 속도 제한(56KBps)은 이전 공학적 결정의 산물임
- 전화망보다 최소 100배 더 높은 대역폭 두가지 기술
1. 케이블 TV 방송을 전송하는 케이블
    - 비디오 채널 수백개를 동시에 전송 가능
    - 가정에서 데이터를 전송하는 용도로 쓰임
    - 케이블 모뎀 이용
    - 시청 여부와 무관하게 같은 모든 신호가 모든 집으로 전송됨.
        - 누군가 많이 쓰면 다른 누군가는 적게 쓰는 대역폭 문제. 그러나 크게 문제되지 않음
    - 암호화 문제. 다른 사람이 감청 가능.
    - 고객이 케이블 회사로 데이터를 되돌릴 방법이 필요
2. 전화 기반
    - 디지털 가입자 회선(digital subscriber loop, DSL), 비대칭의 ADSL.
    - 음성신호를 간섭하지 않는 기법을 사용하여 전화선으로 데이터를 전송함. (전화 사용 가능)
    - 특정 거리까지만 작동함.
    - 공유 매체가 가닌, 집과 전화 회사 간에 전용선을 사용함. 이웃과 전송 대역폭을 공유하지 않음.
- 가정용 광케이블 통신망 서비스 이용. 빛의 펄스 이용

# 056 학교나 회사에서 사용하는 근거리 네트워크, 이더넷

- Alto 컴퓨터를 연결하기 위해 개발된 기술
- 1970년대 초, 로버트 메트칼프(Robert Metcalfe)와 데비이드 바그스(David Boggs)가 발명한 이더넷
- 단일 동축 케입르에 연결되어 있는 모든 컴퓨터 간에 신호를 전달하는 방식
- 신호는 전압 펄스로, 그 세기나 극성으로 비트 값을 인코딩함
- 이더넷 주소 : 각 컴퓨터는 고유한 식별 번호를 가짐. 48Bit 식별 변호.
- 다른 누군가가 메시지를 보내고 있지 않은지 확인 후, 목표 수신자의 식별 번호와 함께 메세지를 케이블로 브로드 캐스팅
    - 만약 사른 컴퓨터가 전송중이라면, 잠시 중지했다가 다시 시도, 실패 회수가 늘어날수록 점진적으로 대기 시간이 증가함
    - 브로드캐스트 방식을 이용하므로, 같은 네트워크에 있다면 소프트웨어적으로 이더넷 인터페이스를 무차별 모드(promiscuous mode)로 설정하면, 모든 메시지의 내용을 읽을 수 있음.
        - 이를 스니핑(Sniffing)이라고 함. 대학 기숙사의 이더넷 네트워크에서 흔히 발생하는 보안 문제
        - 와이어 샤크라는 오픈 소스를 사용하여 확인 가능
        - 요즘은 기본적으로 암호화 됨
- 정보는 패킷으로 전송됨
    - 발신자 주소, 수신자 주소, 내용, 여러가지 기타 정보를 가짐
- 수백 미터의 한정된 범위 내에서만 작동함
- 현재 동축 케이블은 표준 커넥터가 있는 8선 케이블로 대체되었음
- 스위치에 연결되면 이더넷 스위치는 들어오는 데이터를 다른 연결된 장치에 브로드캐스트함

# 057 와이파이는 상표 이름

- 이더넷은 통신선이 필요하다는 결점
    - 이를 보완하기 위한 무선 통신 등장
- 무선 전자기파를 사용하여 데이터를 전송
- Hz 단위로 측정되는 특정 주파수의 파동
- 전자기파 변조 과정에서는 반송파(carrier wave)에 정보 신호 패턴을 적용.
    - 진폭 변조(Amplitude Modulation, AM)는 정보를 전달하기 위해 반송파의 진폭 또는 강도를 변경
    - 주파수 변조(Frequency Modulation, FM) 는 반송파의 주파수를 중심 주파수 값 기준으로 변경
- 주파수의 범위인 스펙트럼(spectrum)과 전송에 사용할 수 있는 전력량에 관해 엄격한 규칙에 따라 작동.
- 컴퓨터용 무선 표준은 IEEE 802.11, 와이파이(Wi-Fi)
    - 이더넷처럼 작동하도록 패키지화
    - 범위는 이더넷과 비슷하지만, 통신선을 놓고 이더넷과 경쟁하지 않음
    - 2.4GHz ~ 2.5GHz, 5GHz, 혹은 더 높은 주파수에서 작동
- 그 외 세가지 무선 시스템
    1. 블루투스(Bluetooth)
        - 근거리 애드혹 통신을 위해 개발됨. 2.4GHz 주파수 대역 사용.
            - ad hoc : 즉석의, 임시 방편의. 유선 네트워크 인프라를 사용할 수 없는 곳에서, 이동 단말기 간의 라우팅 절차만으로 데이터의 송수신으 수행하는 무선 네트워크
        - 통신 범위는 파워 레벨에 따라 1m ~ 100m, 데이터 속도는 1~3Mbps
    2. RFID(Radio-Frequency Idendification) 
        - 저전력 무선 기술.
        - 스트림 형태로 식별 정보를 브로드캐스트하는 소형 전파 수신기 및 송신기
        - 수동 태그는 배터리가 없지만, RFID 센서의 신호를 수신하는 안테나를 통해 전력을 얻음.
        - 칩이 센서에 충분히 가까이 있을 때, 식별정보와 함께 응답은 보냄
        - 일반적으로 13.56MHz 주파수를 사용함
    3. GPS 
        - 단방향 무선 시스템
        - GPS 위성은 정확한 시간과 위치 정보를 브로드캐스트하고, GPS 수신기는 3~4개의 위성으로부터 신호가 도착하는 시간을 사용해서 지상에서 자신의 위치를 계산함
        - GPS에는 수신기에서 위성으로 정보를 보내는 반환 경로가 없음. 즉 사용자를 추적하는 기능은 없음.
        - GPS 기반 추적을 하려면, 휴대전화와 같은 지상 기반 시스템이 위치를 중계해주어야 한다
        

# 058 휴대전화가 영어로 셀룰러폰인 이유

- 대부분의 사람들이 가장 흔히 접하는 무선 통신 시스템 휴대전화, 셀룰러폰
- 최초의 상용 휴대전화 시스템은 1980년대 초 AT&T
- 휴대전화용 스펙트럼과 전파의 범위는 모두 제한되어 있어, 지리적 영역을 가상의 육각형에 가까운 셀로 나눔
    - 각 셀에는 기지국(base station)이 있음.
    - 휴대전화는 가장 가까운 기지국과 통신하고, 한 셀에서 다른 셀로 이동할 때 진행중인 통화는 이전 기지국에서 새 기지국으로 넘어감.
    - 수신된 신호의 세기는 거리의 제곱에 비례하여 감소, 일정 거리 이상 떨어진 두 셀에서는 서로 간의 간섭이 적어서 동일한 주파수 대역을 사용할 수 있음.
    - 이러한 거리를 기준으로 셀 구조를 나눈다면, 인접하지 않은 셀 간에는 스펙트럼에 포함된 주파수 대역을 큰 간섭 없이 재사용 가능. 제한된 스펙트럼을 효과적으로 사용.
- 휴대전화는 배터리를 사용하므로, 낮은 전파 세기로 작동함. 다른 기기와 간섭이 일어나지 않도록 송신 파워가 법으로 제한됨.
    - 가장 강한 신호를 내는 기지국과 통신함.
        - 기지국을 찾지 못한다면 파워를 조절해 기지국을 찾음
- 전세계적으로 다른 주파수 대역을 사용. 일반적으로 900MHz와 1900MHz 대역 사용. 5G는 더 높은 주파수를 사용함.
- 각 휴대전화에는 IMEI(Internation Mobile Equipment Identity)라는 15자리 고유 식별번호가 할당됨. 이는 컴퓨터의 이더넷 주소와 유사함.
    - 가장 가까운 기지국이 그 정보를 받아 홈 시스템(가입자의 통신사)을 통해 유효성을 검사함
- 데이터 압축을 통해 신호를 최대한 적은 수의 비트로 줄인 후, 오류 수정 정보를 추가함
- 스팅레이(stingray) 표적 공격에 취약함.
    - 가장 강한 신호를 내는 기지국과 통신한다는 특성을 이용해, 셀 타워를 모방하여 자신과 통신하도록 함.
    - 수동적 감시 또는 적극적 공격 목적으로 사용 가능함.
    - 셀 타워보다 강한 신호를 전달할 수 있는 좁은 영역에서 효력을 발휘함.
- 휴대전화는 다른 장치들의 기능을 흡수함.
- 핫스팟(hotspot), 테더링(tethering) 기능을 통해 휴대전화의 셀룰러 연결을 통해 컴퓨터가 인터넷에 연결할 수 있게 함.

# 059 3G, LTE, 4G, 5G

- 데이터 전송 최대 속도는 네트워크에서 가장 느린 연결 부분의 영향을 받음
    - 이러한 병목 현상은 연결 부분 자체나, 데이터가 지나가는 경로에 있는 컴퓨터 처리 과정에서 일어남
- 802.11을 지원하는 가정용 무선 시스템은 이론상 600Mbps, 유선 이더넷은 1Gbps
- 휴대전화 기술은 현재 대부분 4G 표준 사용. 산업 전반적으로 5G로 옮겨가는 중
    - 3G는 현재 사양 중
    - 4G LTE(Long-Term Evolution). 3G에서 4G로 가는 과정을 말하는 일종의 로드맵.
    - 5G는 2019년 처음 서비스 되기 시작함. 50Mbps에서 10Gbps.
        - 일정한 면적 내에서 훨씬 더 많은 장치를 연결할 수 있음

# 060 ZIP 파일로 압축할 때

- 가용 메모리와 대역폭을 더 효율적으로 활용하기 위해 데이터 압축 사용.
- 기본 아이디어는 연결부분의 반대쪽에서 데이터를 수신했을 때, 재현하거나 유추할 수 있는 정보는 저장하거나 보내지 않는 것.
- 더 적은 비트로 같은 정보를 인코딩 하는 것이 목표
- 텍스트 압축 알고리즘
    - 허프만 코딩(huffman coding) 알고리즘
    - ZIP 압축 알고리즘
- 이미지 압축 알고리즘
    - 무손실 압축(lossless compression)
        - GIF(Graphics Interchange Format)
        - PNG(Portable Network Graphics)
    - 손실 압축(lossy compression)
        - 사람들이 보거나 듣는 콘텐츠를 압축하는데 가장 흔히 사용함.
        - 더 적은 수의 색상으로도 충분히 표현할 수 있기 때문에, 이미지를 더 적은 비트로 인코딩.
        - 일부 육안으로 구분할 수 없는 미세한 세부 정보들은 버림.
- 영상 압축 알고리즘
    - MPEG 계열 알고리즘 : 한 프레임에서 다음 프레임으로 갈 떄 크게 변하지 않는 일련의 블록을 압축
- 음향 압축 알고리즘
    - 지각 부호화 알고리즘(perceptual coding) : 시끄러운 소리가 조용한 소리를 가리고, 사람의 청각이 약 20kHz보다 높은 주파수를 들을 수 없는 점을 이용함.
- 압축할 떄 속도 및 복잡도와 압축 해제할 때의 속도 및 복잡도를 고려

# 061 오류를 검출하고 수정하는 알고리즘

- 오류 검출과 수정은 신중하게 제어된 여분의 정보를 추가하는 과정
- 신용카드나 도서 ISBN 번호도 체크섬을 이용함.
- 패리티 코드(parity code)는 가장 간당한 예
    - 하나의 부가적인 패리티 비트를 붙임. 홀수 패리티라면 전체 1인 비트 수가 홀수개가 되도록, 짝수 패리티라면 짝수개가 되도록 붙인다.
- 오류 검출과 수정은 컴퓨팅과 통신 분야에 폭넓게 사용됨.

# 062 요약

- 스펙트럼은 무선 통신시스템에서 대단히 중요한 자원이고, 항상 모자름
- 휴대전화는 원래 아날로그 인코딩 방식이였으나, 디지털 시스템으로 교체되면서 사용이 중단됨
- 무선은 브로드캐스트 매체이므로, 누구든지 엿들을 수 있음.
    - 802.11 네트워크의 무선 암호화에 대한 기존 표준인 WEP(Wired Equivalent Privacy)는 심각한 약점이 있음이 드러났고, WPA(Wi-Fi Protected Access)같은 최신 암호 표준이 더 우수함.
    - 공개된 네트워크에서는 민감한 정보가 오가는 작업을 해서는 안됨.
    - 유선 연결은 높은 대역폭과 긴 통신 거리때문에 사용이 많음.

# 063 표준과 프로토콜의 세계, 인터넷

- 인터넷 : 이더넷과 무선 네트워크와 같은 로컬 네트워크 기술들간의 연결.
- 그러나, 물리적 특성이 다르고 서로 멀리 떨어진 네트워크들을 연결하는 것은 어려운 문제
- 이를 해결하기 위해 프로토콜 필요
    - 프로토콜 : 상대방과 소통하기 위한 일련의 규칙
    - 정보를 형식화 하는 방법, 컴퓨터간의 정보를 교환하는 방법, 식별하고 인가하는 방법 등

# 064 인터넷이 가능한 메커니즘

- 인터넷의 역사
    - 1960년대 초반 : ARPANET의 개발
        - 최초의 분산 컴퓨터 네트워크
        - 네트워크 구성 요소 중 하나에 이상이 생기더라도, 우회하여 트래픽을 라우팅하도록 설계
        - 90년대 상업적 영역으로 퍼져나가 인터넷이라 부르게 됨
- 인터넷의 구조
    1. 로컬 네트워크(이더넷, 무선 이더넷)을 통해 근거리 통신망으로 연결
        - 보통 가정용은 라우터(공유기) 를 통해 ISP에 연결됨
        - 유선 이더넷 연결을 이용하기도 함
    2. 이 근거리 네트워크들이 게이트웨이, 또는 라우터를 통해 다른 네트워크에 연결
        - 게이트웨이 및 라우터 : 한 네트워크에서 다음 네트워크로 정보 패킷을 라우팅하는데 전문화된 컴퓨터
        - 이들은 라우팅 정보를 서로 교환하여 국지적으로라도 어떤 개체들이 연결되고 있고 접근 가능한지 파악할 수 있음
- 방법
    - 패킷이라는 형식이 지정된 일련의 바이트를 통해 전달
    - 다양한 장치는 서로 다른 패킷 형식을 사용함.
    - 패킷의 일부에는 패킷의 주소 정보, 패킷 자체에 대한 정보, 패킷이 전달하는 정보(페이로드)가 들어있음.
    - 인터넷에서는 IP 패킷으로 전달
        - 하나 이상의 물리적 패킷에 실려 전송
        - 큰 IP 패킷(65,000바이트)은 여러개의 작은 이더넷 패킷(약 1500바이트)으로 분할되어 전송됨.
        - 여러 게이트웨이를 통과함. 이 경로는 최단경로가 아닐수도 있음
    1. 주소(address)
        - IPv4, IPv6 자신을 고유하게 식별할 수 있는 주소
        - 중앙에서 주소를 관리하는 기관은 IP주소 블록을 네트워크 관리자에게 할당하고, 네트워크 관리자는 네트워크상의 호스트 컴퓨터에 개별 주소를 할당.
        - PC는 영구적이지만, 모바일 장치는 동적임
    2. 이름(name)
        - IPv4 주소를 기억하기 힘드므로, 이를 사람이 사용하기 적합한 이름(도메인 네임)을 저장함
        - 도메인 네임 시스템(Domain Name System)이 이름과 IP 주소 간의 변환을 수행함
    3. 라우팅(Routing)
        - 각 패킷이 출발지에서 목적지까지 경로를 찾는 알고리즘.
        - 게이트웨이가 이 매커니즘을 제공함
        - 수신 패킷을 최종 목적지에 더 가까운 게이트웨이쪽으로 전달함
    4. 프로토콜(protocol)
        - 정보가 한 컴퓨터에서 다른 컴퓨터로 성공적으로 복사되도도록 규칙과 절차를 제공
        - IP 프로토콜 : 전송중인 정보에 대해 균일한 전송 매커니즘과 공통 형식 정의
        - TCP 프로토콜 : IP를 사용하여 목적지까지 임의의 길이의 바이트 시퀸스를 전송하기 위한 안정적인 매커니즘 제공
        - DHCP 프로토콜 : IP 주소를 동적으로 변경

# 065 나만의 도메인이 갖고 싶다면?

- 국제 인터넷 표준화 기구(IETF) : 인터넷 기술의 작동 방식을 설계하고, 기술 표준 문서를 만드는 단체
- 국제인터넷주소관리기구(ICANN) : 도메인 네임, IP 주소, 일부 프로토콜 정보등을 할당
- 도메인 네임 시스템
    - 친숙한 계층적 명명 체계 제공.
    - 최상위 도메인 국가 코드.
    - 도메인 네임은 논리적인 구조를 따라야 하지만, 지리적인 의미를 담고 있진 않음
- IP 주소
    - 다른 개체와 통신할 수 있는 IP 주소
    - ICANN이 블록 단위로 할당하며, 해당 블록을 받은 기관이 나눠서 할당
    - IP 주소 블록에는 수치적, 지리적 의미가 전혀 없음
    - 그러나, DNS를 통해 IP 주소가 어디에 해당하는지는 추정할 수 있음
        - whois 사이트 또는 유닉스 whois 이용
    - 네트워크 주소 변환(Network Address Translation, NAT) : 단일 외부 주소로 여러개의 내부 IP 주소에 서비스를 제공함.
- 루트 서버
    - DNS 최상위 서버. 루트 네임 서버.
    - DNS는 캐시를 가지고있어 요청을 저장해둠
    - 전 세계에 13개의 루트 서버 분포. 단일 컴퓨터처럼 작동하지만 요청의 가까이 있는 컴퓨터에게 라우팅하는 프로토콜 사용
- 자신만의 도메인 등록하기
    1. 등록 대행업체 선정
    2. 도메인 네임 고르고 비용 지불
    3. 호스트가 방문자에게 표시할 콘텐츠를 보유하고 제공하는 컴퓨터 필요
    4. 네임 서버 필요

# 066 출발지에서 목적지까지, 인터넷 경로 확인하기

- 라우팅은 모든 대규모 네트워크에서 핵심적인 문제
- 정적 라우팅 : 목적지 주소까지 어떻게 가야하는지 직접 지정
    - 라우터 CPU에 오버헤드가 없으므로, 더 저렴한 라우터 사용 가능.
    - 직접 라우팅 테이블에 네트워크에 대한 경로를 추가해야하므로 리소스가 많이 투입됨.
    - 관리자가 토폴로지에 대해 잘 알고 있어야함
- 동적 라우팅 : 현재 상태에 따라 경로를 자동으로 조정
    - 구성이 쉬움.
    - 다른 장비들과 통신하기 위해 더 많은 대역폭 소비, 안전하지 않음
- ISP는 게이트웨이를 통해 서로 연결됨.
- 여러 회사의 네트워크 연결이 만나 네트워크간 연결이 이루어지는 IXP
- 게이트웨이는 트래픽을 감시하고 필터링하는데 사용될 수 있음.

# 067 데이터를 전송하는 핵심 프로토콜 TCP/IP

- 프로토콜 : 양측이 상호작용하는 방식에 관한 규칙을 정의
    - 일상생활에서의 프로토콜은 비공식적이지만, 네트워크 프로토콜은 매우 정확하게 명시됨
- IP(Internet Protocol, 인터넷 프로토콜) 과 TCP(Transmission Control Protocol, 전송 제어 프로토콜)이 대표적
    - TCP는 IP 패킷을 데이터 스트림으로 결합하고, 서비스에 연결하는 방법을 정의함
    - 게이트 웨이는 IP 패킷을 라우팅 하지만, 각 물리적 네트워크에는 IP 패킷을 전달하기 위한 고유한 형식이 있음. 각 게이트 웨이는 패킷이 들어오고 나갈 때 네트워크 형식와 IP 형식 간 변환을 수행함
- 순서대로 물리 계층, IP 계층, TCP 계층, 애플리케이션 계층으로 구현됨
    - 바로 아래있는 프로토콜의 서비스에 의존하고, 바로 위에있는 프로토콜에 서비스 제공
    - TCP 계층에는 UDP(User Datagram Protocol, 사용자 데이터그램 프로토콜)도 있음.
    - 애플리케이션 레벨 프로토콜은 웹, 메일, 파일 전송 등의 서비스 제공
- IP : 인터넷 프로토콜
    - 신뢰성 없는(unreliable), 비연결형(connectionless)인 패킷 전송 서비스 제공
        - 신뢰성 없는 : IP 패킷은 상태 관리 기능 없음
        - 비연결형 : IP 패킷이 자립적이고, 다른 IP 패킷들과 관계가 없음
    - 최대 크기는 65KB. 긴 메세지는 분할되어 전송된 다음, 받는 쪽에서 재조합됨
    - IP 구조
        - 버전 | 타입 | 헤더 길이 | 전체 길이 | TTL | 출발지 주소 | 목적지 주소 | 오류 검사 | 데이터
        - TTL(Time To Live) : 출발지에서 몇 홉간 생존할 것인지 정의. 각 게이트웨이를 거칠떄 마다 1씩 감소함. 0 이 되면 폐기되고, 송신자에게 오류 패킷이 발송됨
    - IP 자체는 데이터 전송 속도에 아무런 보장을 하지 않음. 정보가 도착할 것이라는 약속 조차 하지 않음.
- TCP : 전송 제어 프로토콜
    - 신뢰성 없는 계층에서 신뢰성 있는 통신을 만들어 냄
    - 전송 지연이 적고, 오류 발생 확률이 낮음
    - 바이트 스트림이 여러 조각으로 나뉘어 세그먼트(segment)라는 TCP 패킷에 담김
    - 제어 정보를 포함하는 헤더가 들어있어, 각 패킷이 스트림의 어느 부분인지 알 수 있는 시퀸스 번호도 포함됨.
    - 오류 검출 정보가 포함되어 손상된 세그먼트도 찾아낼 수 있음
    - TCP 구조
        - 출발지 포트 | 목적지 포트 | 시퀸스 번호 | 확인 응답 | 오류 검사 | 기타 정보
        - 확인 응답 : 각 세그먼트를 수신했는지 수신자 측에서 긍정, 부정 응답을 보냄
    - 두 호스트 간에 TCP 연결이 설정되면, 해당 컴퓨터의 특정 포트와 연결 됨.
        - 이론상 65536개의 서로 다른 TCP와 대화를 동시 진행할 수 있음.

# 068 최상위 프로토콜 : 메일 전송과 파일 공유

- 인터넷 서비스와 애플리케이션은 TCP를 전송 매커니즘으로 사용하지만, 기능별로 특정한 자신만의 프로토콜을 가짐
    - HTTP(Hypertext Transfer Protocol, 하이퍼텍스트 전송 프로토콜)는 웹 브라우저와 서버에 사용되는 특히 간단한 프로토콜.
- 텔넷과 SSH : 원격 로그인
    - 텔넷
        - 최초의 TCP/IP 애플리케이션
        - 다른 컴퓨터에 원격 로그인 세션을 설정하기 위한 TCP 서비스.
        - 23번 포트 사용
        - [윈10 텔넷 설치](https://opentutorials.org/module/2160/12506)
        - 클라이언트의 키 입력을 받아, 서버에 직접 입력된 것 처럼 서버로 키 입력을 전달함
        - 아무런 보안 기능을 제공하지 않음. 원격 시스템이 비밀번호 없이 로그인을 허용하면, 그냥 로그인 가능함.
        - 데이터 흐름을 관찰하는 누구라도 비밀번호를 볼 수 있음.
        - 보안 기능이 중요하지 않은 특별한 상황을 제외하고는, 현재는 거의 사용하지 않음
    - SSH(Secure Shell, 시큐어 쉘)
        - 텔넷에서 유래함.
        - 양방향의 모든 트래픽을 암호화 하므로, 안전하게 정보 교환 가능
        - 22번 포트 사용
- SMTP(Simple Mail Transfer Protocol) : 단순 메일 전송 프로토콜
    - 25번 포트로 TCP/IP 연결을 진행한 뒤, SMTP 프로토콜을 통해 메시지를 전송함
    - 메일 메시지가 아스키코드 텍스트여야함
    - MEMI(Multipurpose Internet Mail Extensions, 다목적 인터넷 메일 확장) 프로토콜을 이용하면 사진이나 비디오 첨부 가능
    - SMTP 자체로 메일 사본을 만들 수 있으며, 메일 시스템은 메일 내용과 헤더 정보를 계속 파악 한다.
    - 출발지에서 암호화 하더라고, 수신자와 발신자의 정체를 숨기지는 못함
    - 메일을 읽는 과정에서는 IMAP(Internet Message Access Protocol, 인터넷 메시지 접근 프로토콜)을 사용함
- 파일 공유와 P2P 프로토콜
    - 최초의 P2P 서비스 냅스터
    - 사용자가 파일 공급자를 선택하면, 중앙 서버는 IP 주소와 포트 번호를 제공하여 접촉을 주선함
    - 사용자 컴퓨터의 클라이언트 프로그램이 공급자와 접촉하여 파일을 가져옴
    - 중앙 디렉터리를 제공하지만, 파일 자체는 사용자 컴퓨터에만 저장 되어있음.
    - TCP/IP를 사용하여 HTTP나 SMTP와 동일한 프로토콜임.
    - 현재는 BitTorrent라는 P2P 프로토콜을 사용함

# 069 디지털 저작권 논장

- 1990년대 들어서는 책이나 음반의 디지털 사본을 만들기가 쉬워짐
- 사본을 대량으로 만들어 별도의 비용 없이 고속으로 인터넷을 통해 다른사람에게 보낼 수 있게 되었음
- 미국 음반 산업협회 RIAA, 미국영화협회 MPAA
- DMCA(Digital Millennium Copyright Act, 디지털 밀레니엄 저작권 법)